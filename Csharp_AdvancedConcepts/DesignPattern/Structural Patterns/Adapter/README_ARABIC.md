# ููุท ุงููุญูู (Adapter Pattern)

## ๐ ุงูููุฎุต

**ููุท ุงููุญูู** ูู ุฃุญุฏ ุงูุฃููุงุท ุงูุจูุงุฆูุฉ (Structural Patterns) ูู ุงูุจุฑูุฌุฉ ุงูุดูุฆูุฉุ ูููุณุชุฎุฏู ูุญู ูุดููุฉ **ุนุฏู ุงูุชูุงูู ุจูู ุงููุงุฌูุงุช**.

### ุงููุดููุฉ ๐ค
ุชุฎูู ุฃู ูุฏูู:
- **ูุธุงู ูุฏูู** (Legacy System) ูุนูู ุจุทุฑููุฉ ูุนููุฉ ููุง ููููู ุชุนุฏููู
- **ูุธุงู ุฌุฏูุฏ** ูุชููุน ูุงุฌูุฉ ุจุฑูุฌูุฉ ูุฎุชููุฉ ุชูุงููุง
- ุชุฑูุฏ ุงุณุชุฎุฏุงู ุงููุธุงู ุงููุฏูู ูู ุงููุธุงู ุงูุฌุฏูุฏ **ุฏูู ุชุนุฏูู ุฃู ููููุง**

### ุงูุญู โ
**ููุท ุงููุญูู** ูุนูู ูู **"ูุชุฑุฌู"** ุฃู **"ูุญูู ููุฑุจุงุฆู"** ุจูู ุงููุธุงููู:
- ูุณุชูุจู ุทูุจุงุช ุจุงูุดูู ุงูุฌุฏูุฏ
- ูุญูููุง ููุดูู ุงููุฏูู
- ูุณุชุฏุนู ุงููุธุงู ุงููุฏูู
- ูุญูู ุงููุชูุฌุฉ ููุดูู ุงูุฌุฏูุฏ

---

## ๐ฏ ุงููุซุงู ุงูุนููู - ูุธุงู ุงูุฏูุน

### ุงูุณููุงุฑูู
ูุฏูู ุดุฑูุฉ ุจูุง:

1. **ูุธุงู ุฏูุน ูุฏูู** (`LegacyPaymentSystem`)
   - ูุณุชูุจู ุงููุจูุบ ูู `string`
   - ูุฑุฌุน ุฑูุฒ ุงูุญุงูุฉ ูู `int` (0 = ูุดูุ 1 = ูุฌุงุญุ 2 = ูุนูู)
   - ูุง ูููู ุชุนุฏููู ูุฃูู ูุณุชุฎุฏู ูู ุฃูุธูุฉ ุฃุฎุฑู

2. **ูุงุฌูุฉ ุฌุฏูุฏุฉ** (`IPaymentProcessor`)
   - ุชุณุชูุจู ุงููุจูุบ ูู `decimal`
   - ุชุฑุฌุน `bool` ูููุฌุงุญ/ุงููุดู
   - ุชุฑุฌุน `string` ูุญุงูุฉ ุงููุนุงููุฉ

3. **ูุธุงู ุญุฏูุซ** (`ModernPaymentGateway`)
   - ููุชุฒู ุจุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ ูุจุงุดุฑุฉ

### ููู ูุนูู ุงููุญููุ

```
โโโโโโโโโโโโโโโโโโโ
โ   ุงููุธุงู ุงูุฌุฏูุฏ  โ
โ  (Your Code)    โ
โโโโโโโโโโฌโโโโโโโโโ
         โ ูุณุชุฏุนู IPaymentProcessor
         โ
    โโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ                              โ
    โ  ModernPaymentGateway        โ   โโโโ ูุนูู ูุจุงุดุฑุฉ โ
    โ  (ููุชุฒู ุจุงููุงุฌูุฉ)            โ
    โ                              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ   PaymentAdapter             โ   โโโโ ุงููุญูู ๐
    โ   (ูุญูู ุงูุงุณุชุฏุนุงุกุงุช)         โ
    โโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโ
             โ ูุญูู ุซู ูุณุชุฏุนู
        โโโโโโผโโโโโโโโโโโโโโโโโ
        โ  LegacyPaymentSystemโ   โโโโ ุงููุธุงู ุงููุฏูู
        โ  (ูุงุฌูุฉ ูุฎุชููุฉ)      โ
        โโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ง ููููุงุช ุงููุซุงู

### 1. ุงููุงุฌูุฉ ุงููุณุชูุฏูุฉ (Target Interface)
```csharp
public interface IPaymentProcessor
{
    bool ProcessPayment(string customerName, decimal amount);
    string GetPaymentStatus(string transactionId);
}
```
- **ุงูุบุฑุถ**: ุงููุงุฌูุฉ ุงูููุญุฏุฉ ุงูุชู ูุชููุนูุง ุงููุธุงู ุงูุฌุฏูุฏ

### 2. ุงููุธุงู ุงููุฏูู (Adaptee)
```csharp
public class LegacyPaymentSystem
{
    public string MakePayment(string name, string amountStr) { ... }
    public int CheckStatus(string transactionId) { ... }
}
```
- **ุงููุดููุฉ**: ูุงุฌูุฉ ูุฎุชููุฉ ุชูุงููุง (string ุจุฏูุงู ูู decimalุ int ุจุฏูุงู ูู string)

### 3. ุงููุญูู (Adapter)
```csharp
public class PaymentAdapter : IPaymentProcessor
{
    private readonly LegacyPaymentSystem _legacySystem;
    
    public bool ProcessPayment(string customerName, decimal amount)
    {
        // ุชุญููู decimal ุฅูู string
        string amountStr = amount.ToString("F2");
        
        // ุงุณุชุฏุนุงุก ุงููุธุงู ุงููุฏูู
        string transId = _legacySystem.MakePayment(customerName, amountStr);
        
        // ุชุญููู ุงููุชูุฌุฉ
        int statusCode = _legacySystem.CheckStatus(transId);
        return statusCode == 1;
    }
}
```
- **ุงูุฏูุฑ**: ูุฑุจุท ุจูู ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ ูุงููุธุงู ุงููุฏูู

### 4. ุงููุธุงู ุงูุญุฏูุซ (Concrete Implementation)
```csharp
public class ModernPaymentGateway : IPaymentProcessor
{
    // ููุชุฒู ุจุงููุงุฌูุฉ ูุจุงุดุฑุฉ ุจุฏูู ุชุญููู
}
```

---

## ๐ฌ ุทุฑููุฉ ุงูุชุดุบูู

ูู `Program.cs`ุ ุฃุถู:
```csharp
AdapterDemo.Run();
```

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
          Adapter Pattern Demo
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Test 1: Using Modern Payment Gateway
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[Modern Gateway] Processing payment for Ahmed Mohamed
[Modern Gateway] Amount: 1500.50 EGP
โ Payment processed successfully!

Test 2: Using Legacy System via Adapter
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
[Adapter] Converting new system call to legacy format...
[Legacy System] Processing payment for Ahmed Mohamed
[Legacy System] Amount: 1500.50 EGP
[Legacy System] Transaction ID: LEG-A3F2D8B1
[Adapter] Conversion complete. Success: True
โ Payment processed successfully!
```

---

## โจ ุงูููุงุฆุฏ

### 1. **ุนุฏู ุชุนุฏูู ุงูููุฏ ุงููุฏูู** ๐
- ุงููุธุงู ุงููุฏูู ูุจูู ููุง ูู
- ูุง ุฎุทุฑ ูู ูุณุฑ ุงูุฃูุธูุฉ ุงูุฃุฎุฑู ุงููุนุชูุฏุฉ ุนููู

### 2. **ุงูุชูุญูุฏ ุงูููุงุณู** ๐
- ูู ุงูุฃูุธูุฉ (ูุฏููุฉ ุฃู ุฌุฏูุฏุฉ) ุชูุณุชุฎุฏู ุจููุณ ุงูุทุฑููุฉ
- ุณูููุฉ ุงุณุชุจุฏุงู ุงูุฃูุธูุฉ

### 3. **ูุงุจููุฉ ุงูุชูุณุน** ๐
- ูููู ุฅุถุงูุฉ ูุญููุงุช ูุฃูุธูุฉ ูุฏููุฉ ุฃุฎุฑู
- ูู ูุญูู ูุณุชูู ุนู ุงูุขุฎุฑ

### 4. **ุงูุงูุชุฒุงู ุจู Single Responsibility** โ
- ุงููุธุงู ุงููุฏูู: ูุณุคูู ุนู ููุทู ุงูุฏูุน ููุท
- ุงููุญูู: ูุณุคูู ุนู ุงูุชุฑุฌูุฉ ููุท
- ูุธุงูู: ูุง ูุนุฑู ุดูุฆูุง ุนู ุงูุชูุงุตูู ุงูุฏุงุฎููุฉ

---

## ๐ ูุชู ุชุณุชุฎุฏู Adapter Patternุ

โ **ุงุณุชุฎุฏูู ุนูุฏูุง:**
- ุชุฑูุฏ ุงุณุชุฎุฏุงู class ููุฌูุฏ ููู ูุงุฌูุชู ูุง ุชุชูุงูู ูุน ุจุงูู ุงูููุฏ
- ุชุฑูุฏ ุฏูุฌ ููุชุจุฉ ุฎุงุฑุฌูุฉ (Third-party) ุจูุงุฌูุฉ ูุฎุชููุฉ
- ุนูุฏู ุฃูุธูุฉ ูุฏููุฉ (Legacy) ูุง ูููู ุชุนุฏูููุง
- ุชุฑูุฏ ุฅูุดุงุก class ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูุน classes ุบูุฑ ูุชูุงููุฉ

โ **ูุง ุชุณุชุฎุฏูู ุนูุฏูุง:**
- ููููู ุชุนุฏูู ุงูู class ุงูุฃุตูู ูุจุงุดุฑุฉ
- ุงูุชุญููู ูุนูุฏ ุฌุฏูุง ููุถูู overhead ูุจูุฑ
- ุงููุงุฌูุงุช ูุชูุงููุฉ ุจุงููุนู

---

## ๐ ููุงุญุธุงุช ูุงูุฉ

### ุงููุฑู ุจูู Adapter ูุฃููุงุท ุฃุฎุฑู:

| ุงูููุท | ุงูุบุฑุถ |
|-------|-------|
| **Adapter** | ุชุญููู ูุงุฌูุฉ ููุฌูุฏุฉ ุฅูู ูุงุฌูุฉ ุฃุฎุฑู |
| **Decorator** | ุฅุถุงูุฉ ูุธุงุฆู ุฌุฏูุฏุฉ ูู object ุจุฏูู ุชุบููุฑ ูุงุฌูุชู |
| **Facade** | ุชุจุณูุท ูุงุฌูุฉ ูุนูุฏุฉ ุฅูู ูุงุฌูุฉ ุฃุจุณุท |
| **Proxy** | ุงูุชุญูู ูู ุงููุตูู ุฅูู object |

### ุฃููุงุน Adapter:
1. **Class Adapter**: ูุณุชุฎุฏู ุงููุฑุงุซุฉ (Inheritance)
2. **Object Adapter**: ูุณุชุฎุฏู ุงูุชูููู (Composition) โ **ุงููุซุงู ุงูุญุงูู**

---

## ๐ก ูุตุงุฆุญ ุนูููุฉ

1. **ุงุณุชุฎุฏู Composition ุจุฏูุงู ูู Inheritance**
   - ุฃูุซุฑ ูุฑููุฉ
   - ูููู ุชุจุฏูู ุงููุธุงู ุงููุฏูู ูู ุงูู runtime

2. **ุงุฌุนู ุงููุญูู ุจุณูุทูุง**
   - ูุณุคูููุชู ููุท ุงูุชุฑุฌูุฉ
   - ูุง ุชุถู ููุทู ุฃุนูุงู (business logic)

3. **ุงุณุชุฎุฏู Interface ุจุฏูุงู ูู Concrete Class**
   - ูุณูู ุงูุงุฎุชุจุงุฑ (Testing)
   - ูุณูู ุงูุงุณุชุจุฏุงู

4. **ูุซู ุงูุชุญูููุงุช ุงููุนูุฏุฉ**
   - ุงุดุฑุญ ููุงุฐุง ุชุญูู ุจูุฐู ุงูุทุฑููุฉ
   - ูุถุญ ุฃู ูููุฏ (limitations)

---

## ๐ฏ ุงูุฎูุงุตุฉ

**ููุท ุงููุญูู** ูู ุญู ุฃููู ููุดููุฉ ุดุงุฆุนุฉ ุฌุฏูุง ูู ุนุงูู ุงูุจุฑูุฌุฉ:
> "ููู ุฃุฌุนู ุดูุฆูู ุบูุฑ ูุชูุงูููู ูุนููุงู ูุนูุงุ"

ูุซู ูุญูู ุงูููุฑุจุงุก ุงูุฐู ูุฌุนู ุฌูุงุฒู ุงูุฃูุฑููู ูุนูู ูู ูุตุฑุ **Adapter Pattern** ูุฌุนู ุงูููุฏ ุงููุฏูู ูุนูู ูู ุงููุธุงู ุงูุฌุฏูุฏ! ๐โจ

---

**ูุซุงู ูู ุงูุญูุงุฉ ุงูููููุฉ:**
- ูุญูู ุงูููุฑุจุงุก: ูุญูู 110V ุฅูู 220V
- ูุญูู USB-C ุฅูู USB-A
- ูุชุฑุฌู ูุชุฑุฌู ุจูู ุดุฎุตูู ุจูุบุชูู ูุฎุชููุชูู

ูููู **ูุญููุงุช (Adapters)** ูุญููู ููุณ ุงููุดููุฉ: **ุนุฏู ุงูุชูุงูู**! ๐
